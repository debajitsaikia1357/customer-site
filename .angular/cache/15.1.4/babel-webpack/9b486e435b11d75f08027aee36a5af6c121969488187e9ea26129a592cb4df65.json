{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = [\"navbarArea\"];\nconst _c1 = function (a0) {\n  return [a0];\n};\nconst _c2 = function () {\n  return [\"active\"];\n};\nfunction HeaderComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"li\", 15)(2, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_ng_container_16_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onMenuItemClick());\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"active\", ctx_r1.isActive(i0.ɵɵpureFunction1(5, _c1, \"/\" + item_r2.url)));\n    i0.ɵɵpropertyInterpolate(\"href\", item_r2.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"routerLinkActive\", i0.ɵɵpureFunction0(7, _c2));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r2.label);\n  }\n}\nconst _c3 = function (a1) {\n  return {\n    \"navbar-toggler\": true,\n    \"active\": a1\n  };\n};\nexport class HeaderComponent {\n  constructor(router) {\n    this.router = router;\n    this.isSticky = false;\n    this.toggler = false;\n    this.onScroll();\n  }\n  ngOnInit() {\n    this.activeUrl = this.router.url;\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(event => {\n      this.activeUrl = event.url;\n    });\n  }\n  get menuItems() {\n    if (this.menuData) {\n      return this.menuData.data.data.navigation_menu[0].menu_items;\n    }\n    return [];\n  }\n  isActive(url) {\n    if (url) {\n      return url[0] === this.activeUrl;\n    }\n    return false;\n  }\n  onScroll() {\n    if (this.navbarArea) {\n      const sticky = this.navbarArea.nativeElement.offsetTop;\n      this.isSticky = window.pageYOffset > sticky;\n    } else {\n      this.isSticky = false;\n    }\n    const sections = document.querySelectorAll('.page-scroll');\n    const scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n    const de = document.documentElement;\n    for (let i = 0; i < sections.length; i++) {\n      const currLink = sections[i];\n      const currLinkHref = currLink.getAttribute('href');\n      const val = currLinkHref.replace('/', '');\n      const refElement = document.querySelector(val);\n      if (refElement) {\n        const box = refElement.getBoundingClientRect();\n        const top = box.top + window.pageYOffset - de.clientTop;\n        const scrollTopMinus = scrollPos + 73;\n        const h = refElement.getBoundingClientRect().height;\n        if (refElement && top <= scrollTopMinus && top + h > scrollTopMinus) {\n          this.activeUrl = '/' + currLinkHref;\n        }\n      }\n    }\n  }\n  onTogglerClick() {\n    this.toggler = !this.toggler;\n  }\n  onMenuItemClick() {\n    this.toggler = false;\n  }\n  get isTogglerActive() {\n    return this.toggler;\n  }\n}\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.Router));\n};\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  viewQuery: function HeaderComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.navbarArea = _t.first);\n    }\n  },\n  hostBindings: function HeaderComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"scroll\", function HeaderComponent_scroll_HostBindingHandler($event) {\n        return ctx.onScroll($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  inputs: {\n    menuData: \"menuData\"\n  },\n  decls: 17,\n  vars: 8,\n  consts: [[1, \"header\"], [\"id\", \"\", 1, \"navbar-area\"], [\"navbarArea\", \"\"], [1, \"container\"], [1, \"row\", \"align-items-center\"], [1, \"col-lg-12\"], [1, \"navbar\", \"navbar-expand-lg\"], [\"href\", \"https://buttercms.com\", 1, \"navbar-brand\"], [\"src\", \"https://cdn.buttercms.com/PBral0NQGmmFzV0uG7Q6\", \"alt\", \"Logo\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarSupportedContent\", \"aria-controls\", \"navbarSupportedContent\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 3, \"ngClass\", \"click\"], [1, \"toggler-icon\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\", \"sub-menu-bar\"], [1, \"ms-auto\"], [\"id\", \"nav\", 1, \"navbar-nav\", \"ms-auto\"], [4, \"ngFor\", \"ngForOf\"], [1, \"nav-item\"], [1, \"page-scroll\", 3, \"routerLinkActive\", \"href\", \"click\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1, 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"nav\", 6)(7, \"a\", 7);\n      i0.ɵɵelement(8, \"img\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function HeaderComponent_Template_button_click_9_listener() {\n        return ctx.onTogglerClick();\n      });\n      i0.ɵɵelement(10, \"span\", 10)(11, \"span\", 10)(12, \"span\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"div\", 12)(15, \"ul\", 13);\n      i0.ɵɵtemplate(16, HeaderComponent_ng_container_16_Template, 4, 8, \"ng-container\", 14);\n      i0.ɵɵelementEnd()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵclassProp(\"sticky\", ctx.isSticky);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c3, ctx.isTogglerActive));\n      i0.ɵɵadvance(4);\n      i0.ɵɵclassProp(\"show\", ctx.isTogglerActive);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.menuItems);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["NavigationEnd","filter","i0","HeaderComponent","constructor","router","onScroll","ngOnInit","activeUrl","url","events","pipe","event","subscribe","menuItems","menuData","data","navigation_menu","menu_items","isActive","navbarArea","sticky","nativeElement","offsetTop","isSticky","window","pageYOffset","sections","document","querySelectorAll","scrollPos","documentElement","scrollTop","body","de","i","length","currLink","currLinkHref","getAttribute","val","replace","refElement","querySelector","box","getBoundingClientRect","top","clientTop","scrollTopMinus","h","height","onTogglerClick","toggler","onMenuItemClick","isTogglerActive","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\D_Drive\\projects\\hr_product\\codes\\customer-site\\src\\app\\layout\\components\\header\\header.component.ts","C:\\D_Drive\\projects\\hr_product\\codes\\customer-site\\src\\app\\layout\\components\\header\\header.component.html"],"sourcesContent":["import {Component, HostListener, Input, OnInit, ViewChild} from '@angular/core';\nimport {NavigationEnd, Router} from '@angular/router';\nimport {filter} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html'\n})\nexport class HeaderComponent implements OnInit {\n  public isSticky = false;\n  public toggler = false;\n\n  public activeUrl;\n\n  @Input() menuData;\n  @ViewChild('navbarArea') navbarArea;\n\n  constructor(private router: Router) {\n    this.onScroll();\n  }\n\n  ngOnInit(): void {\n    this.activeUrl = this.router.url;\n    this.router.events\n      .pipe(filter(event => event instanceof NavigationEnd))\n      .subscribe((event: NavigationEnd) => {\n        this.activeUrl = event.url;\n      });\n  }\n\n  get menuItems() {\n    if (this.menuData) {\n      return this.menuData.data.data.navigation_menu[0].menu_items;\n    }\n    return [];\n  }\n\n  isActive(url) {\n    if (url) {\n      return url[0] === this.activeUrl;\n    }\n    return false;\n  }\n\n  @HostListener('window:scroll', ['$event'])\n  onScroll() {\n    if (this.navbarArea) {\n      const sticky = this.navbarArea.nativeElement.offsetTop;\n      this.isSticky = window.pageYOffset > sticky;\n    } else {\n      this.isSticky = false;\n    }\n\n    const sections = document.querySelectorAll('.page-scroll');\n    const scrollPos = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n\n    const de = document.documentElement;\n\n    for (let i = 0; i < sections.length; i++) {\n      const currLink = sections[i];\n      const currLinkHref = currLink.getAttribute('href');\n      const val = currLinkHref.replace('/', '');\n      const refElement = document.querySelector(val);\n      if (refElement) {\n        const box = refElement.getBoundingClientRect();\n        const top = box.top + window.pageYOffset - de.clientTop;\n\n        const scrollTopMinus = scrollPos + 73;\n\n        const h = refElement.getBoundingClientRect().height;\n\n        if (refElement && top <= scrollTopMinus && (top + h > scrollTopMinus)) {\n          this.activeUrl = '/' + currLinkHref;\n        }\n      }\n    }\n  }\n\n  onTogglerClick() {\n    this.toggler = !this.toggler;\n  }\n\n  onMenuItemClick() {\n    this.toggler = false;\n  }\n\n  get isTogglerActive() {\n    return this.toggler;\n  }\n\n}\n","<header class=\"header\">\n  <div #navbarArea id=\"\" class=\"navbar-area\" [class.sticky]=\"isSticky\">\n    <div class=\"container\">\n      <div class=\"row align-items-center\">\n        <div class=\"col-lg-12\">\n          <nav class=\"navbar navbar-expand-lg\">\n            <a class=\"navbar-brand\" href=\"https://buttercms.com\">\n              <img src=\"https://cdn.buttercms.com/PBral0NQGmmFzV0uG7Q6\" alt=\"Logo\" />\n            </a>\n            <button [ngClass]=\"{'navbar-toggler': true, 'active': isTogglerActive}\" (click)=\"onTogglerClick()\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n              <span class=\"toggler-icon\"></span>\n              <span class=\"toggler-icon\"></span>\n              <span class=\"toggler-icon\"></span>\n            </button>\n\n            <div class=\"collapse navbar-collapse sub-menu-bar\" [class.show]=\"isTogglerActive\" id=\"navbarSupportedContent\">\n              <div class=\"ms-auto\">\n                <ul id=\"nav\" class=\"navbar-nav ms-auto\">\n                  <ng-container *ngFor=\"let item of menuItems\">\n                    <li class=\"nav-item\">\n                      <a class=\"page-scroll\" [class.active]=\"isActive(['/' + item.url])\" [routerLinkActive]=\"['active']\" (click)=\"onMenuItemClick()\" href=\"{{item.url}}\">{{item.label}}</a>\n                    </li>\n                  </ng-container>\n                </ul>\n              </div>\n            </div> <!-- navbar collapse -->\n\n          </nav> <!-- navbar -->\n        </div>\n      </div> <!-- row -->\n    </div> <!-- container -->\n  </div> <!-- navbar area -->\n</header>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
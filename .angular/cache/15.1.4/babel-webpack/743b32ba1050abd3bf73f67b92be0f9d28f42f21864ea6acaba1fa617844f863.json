{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/buttercmssdk.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/platform-browser\";\nfunction BlogComponent_ng_container_0_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"All Blog Posts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 14)(4, \"li\")(5, \"a\", 15);\n    i0.ɵɵtext(6, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵtext(8, \"All blog posts\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Blog Posts by Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 14)(4, \"li\")(5, \"a\", 16);\n    i0.ɵɵtext(6, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 17);\n    i0.ɵɵtext(9, \"Blog\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Category: \", ctx_r4.brTitle, \"\");\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Blog Posts by Tag\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 14)(4, \"li\")(5, \"a\", 16);\n    i0.ɵɵtext(6, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 17);\n    i0.ɵɵtext(9, \"Blog\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Tag: \", ctx_r5.brTitle, \"\");\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2, \"Search Results\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 14)(4, \"li\")(5, \"a\", 16);\n    i0.ɵɵtext(6, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 17);\n    i0.ɵɵtext(9, \"Blog\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate1(\"Search: \", ctx_r6.brTitle, \"\");\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ul\", 14)(4, \"li\")(5, \"a\", 16);\n    i0.ɵɵtext(6, \"Home\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"li\")(8, \"a\", 17);\n    i0.ɵɵtext(9, \"Blog\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r7.post.title);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r7.post.title);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_15_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" No blog posts found matching this query. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_li_16_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const tag_r16 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r17.navigationChange(\"tag\", tag_r16.slug, undefined));\n    });\n    i0.ɵɵelement(2, \"i\", 36);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r16 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(tag_r16.name);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"img\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const post_r13 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", post_r13.featured_image, i0.ɵɵsanitizeUrl)(\"alt\", post_r13.featured_image_alt);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"div\", 23)(3, \"h2\", 24)(4, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_Template_a_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const post_r13 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r20.navigationChange(post_r13.slug, undefined, undefined));\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"ul\", 26)(7, \"li\")(8, \"a\", 27);\n    i0.ɵɵelement(9, \"img\", 28);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"li\")(12, \"a\", 27);\n    i0.ɵɵelement(13, \"i\", 29);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_li_16_Template, 4, 1, \"li\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_div_17_Template, 2, 2, \"div\", 31);\n    i0.ɵɵelement(18, \"div\", 32);\n    i0.ɵɵelementStart(19, \"div\", 33)(20, \"a\", 34);\n    i0.ɵɵlistener(\"click\", function BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_Template_a_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const post_r13 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r22.navigationChange(post_r13.slug, undefined, undefined));\n    });\n    i0.ɵɵtext(21, \"Read More\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const post_r13 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"href\", \"/blog/\" + post_r13.slug, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", post_r13.title, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", post_r13.author.profile_image || \"../../../../assets/images/placeholder.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", post_r13.author.first_name, \" \", post_r13.author.last_name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(15, 9, post_r13.published, \"MM. dd. YYYY hh:mm:ss\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", post_r13.tags);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", post_r13.featured_image);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", post_r13.summary, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_15_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, BlogComponent_ng_container_0_ng_container_15_ng_container_4_div_1_Template, 22, 12, \"div\", 20);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.posts);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 18)(2, \"div\", 19);\n    i0.ɵɵtemplate(3, BlogComponent_ng_container_0_ng_container_15_p_3_Template, 2, 0, \"p\", 10);\n    i0.ɵɵtemplate(4, BlogComponent_ng_container_0_ng_container_15_ng_container_4_Template, 2, 1, \"ng-container\", 10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.posts.length <= 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.posts.length > 0);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_16_li_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function BlogComponent_ng_container_0_ng_container_16_li_16_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r27);\n      const tag_r25 = restoredCtx.$implicit;\n      const ctx_r26 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r26.navigationChange(\"tag\", tag_r25.slug, undefined));\n    });\n    i0.ɵɵelement(2, \"i\", 36);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const tag_r25 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(tag_r25.name);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_16_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"img\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r24 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r24.post.featured_image, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction BlogComponent_ng_container_0_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 39)(2, \"div\", 40)(3, \"div\", 41)(4, \"h2\", 42);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\", 43)(7, \"li\")(8, \"a\", 27);\n    i0.ɵɵelement(9, \"img\", 28);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"li\")(12, \"a\", 27);\n    i0.ɵɵelement(13, \"i\", 29);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(16, BlogComponent_ng_container_0_ng_container_16_li_16_Template, 4, 1, \"li\", 30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, BlogComponent_ng_container_0_ng_container_16_div_17_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelement(18, \"div\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r9.post.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r9.post.author.profile_image || \"../../../../assets/images/placeholder.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r9.post.author.first_name, \" \", ctx_r9.post.author.last_name, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(15, 8, ctx_r9.post.published, \"MM. dd. YYYY hh:mm:ss\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.post.tags);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.post.featured_image);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r9.post.body, i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"blog-roll-nav\": a0,\n    \"single-post-nav\": a1\n  };\n};\nconst _c1 = function (a0, a1) {\n  return {\n    \"blog-posts\": a0,\n    \"blog-post\": a1\n  };\n};\nfunction BlogComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"div\", 5)(5, \"div\", 6);\n    i0.ɵɵelementContainerStart(6, 7);\n    i0.ɵɵtemplate(7, BlogComponent_ng_container_0_ng_container_7_Template, 9, 0, \"ng-container\", 8);\n    i0.ɵɵtemplate(8, BlogComponent_ng_container_0_ng_container_8_Template, 12, 1, \"ng-container\", 8);\n    i0.ɵɵtemplate(9, BlogComponent_ng_container_0_ng_container_9_Template, 12, 1, \"ng-container\", 8);\n    i0.ɵɵtemplate(10, BlogComponent_ng_container_0_ng_container_10_Template, 12, 1, \"ng-container\", 8);\n    i0.ɵɵtemplate(11, BlogComponent_ng_container_0_ng_container_11_Template, 12, 2, \"ng-container\", 8);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(12, \"section\", 9)(13, \"div\", 3)(14, \"div\", 4);\n    i0.ɵɵtemplate(15, BlogComponent_ng_container_0_ng_container_15_Template, 5, 2, \"ng-container\", 10);\n    i0.ɵɵtemplate(16, BlogComponent_ng_container_0_ng_container_16_Template, 19, 11, \"ng-container\", 10);\n    i0.ɵɵelementStart(17, \"aside\", 11)(18, \"app-search\", 12);\n    i0.ɵɵlistener(\"searchChange\", function BlogComponent_ng_container_0_Template_app_search_searchChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.navigationChange(undefined, undefined, $event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"app-categories\", 13);\n    i0.ɵɵlistener(\"categoryChange\", function BlogComponent_ng_container_0_Template_app_categories_categoryChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.navigationChange(\"category\", $event, undefined));\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", ctx_r0.blogType === \"post\" ? \"blog-header\" : \"blog-roll\")(\"ngClass\", i0.ɵɵpureFunction2(12, _c0, ctx_r0.blogType !== \"post\", ctx_r0.blogType === \"post\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngSwitch\", ctx_r0.blogType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"all\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"category\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"tag\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"search\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"post\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(15, _c1, ctx_r0.blogType !== \"post\", ctx_r0.blogType === \"post\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.blogType !== \"post\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.blogType === \"post\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"categories\", ctx_r0.categories);\n  }\n}\nfunction BlogComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\");\n  }\n}\nvar BLOG_TYPE;\n(function (BLOG_TYPE) {\n  BLOG_TYPE[\"ALL\"] = \"all\";\n  BLOG_TYPE[\"CATEGORY\"] = \"category\";\n  BLOG_TYPE[\"TAG\"] = \"tag\";\n  BLOG_TYPE[\"SEARCH\"] = \"search\";\n  BLOG_TYPE[\"POST\"] = \"post\";\n})(BLOG_TYPE || (BLOG_TYPE = {}));\nexport class BlogComponent {\n  constructor(bCMSSDKService, route, router, meta, mTitle) {\n    this.bCMSSDKService = bCMSSDKService;\n    this.route = route;\n    this.router = router;\n    this.meta = meta;\n    this.mTitle = mTitle;\n    this.pageLoading = false;\n    this.blogType = BLOG_TYPE.ALL;\n  }\n  ngOnInit() {\n    this.bCMSSDKService.getButterCMS().category.list().then(res => this.categories = res.data.data).catch(_ => this.bCMSSDKService.navigateToNotFound());\n    this.getPosts(this.route.snapshot.params.type, this.route.snapshot.params.slug, this.route.snapshot.queryParams.q);\n  }\n  navigationChange(type, slug, searchParam) {\n    if (searchParam) {\n      this.router.navigate(['blog', 'search'], {\n        queryParams: {\n          q: searchParam\n        }\n      });\n    } else if (!slug) {\n      this.router.navigate(['blog', type]);\n    } else {\n      this.router.navigate(['blog', type, slug]);\n    }\n    this.getPosts(type, slug, searchParam);\n  }\n  getPosts(typeParam, slugParam, searchParam) {\n    this.pageLoading = true;\n    this.title = 'All posts';\n    let filterBy = {};\n    if (searchParam) {\n      this.blogType = BLOG_TYPE.SEARCH;\n      this.brTitle = searchParam;\n      this.title = 'search results for query: ' + searchParam;\n      this.bCMSSDKService.getButterCMS().post.search(searchParam).then(res => {\n        this.posts = res.data.data;\n        this.pageLoading = false;\n        this.setSeo();\n      }).catch(_ => this.bCMSSDKService.navigateToNotFound());\n    } else if (typeParam && !slugParam) {\n      this.bCMSSDKService.getButterCMS().post.retrieve(typeParam).then(res => {\n        this.blogType = BLOG_TYPE.POST;\n        this.post = res.data.data;\n        this.pageLoading = false;\n        this.mTitle.setTitle(this.post.seo_title);\n        this.meta.removeTag(\"name='description'\");\n        this.meta.addTag({\n          name: 'description',\n          content: this.post.meta_description\n        });\n        this.meta.removeTag(\"name='image'\");\n        if (this.post.featured_image) {\n          this.meta.addTag({\n            name: 'image',\n            content: this.post.featured_image\n          });\n        }\n      }).catch(_ => this.bCMSSDKService.navigateToNotFound());\n    } else {\n      if (typeParam && slugParam) {\n        if (typeParam === BLOG_TYPE.CATEGORY) {\n          this.blogType = BLOG_TYPE.CATEGORY;\n          this.bCMSSDKService.getButterCMS().category.retrieve(slugParam).then(res => {\n            this.title = 'category: ' + res.data.data.name;\n            this.brTitle = res.data.data.name;\n            this.pageLoading = false;\n            this.setSeo();\n          });\n          filterBy = {\n            category_slug: slugParam\n          };\n        } else if (typeParam === BLOG_TYPE.TAG) {\n          this.blogType = BLOG_TYPE.TAG;\n          this.bCMSSDKService.getButterCMS().tag.retrieve(slugParam).then(res => {\n            this.title = 'tag: ' + res.data.data.name;\n            this.brTitle = res.data.data.name;\n            this.pageLoading = false;\n            this.setSeo();\n          });\n          filterBy = {\n            tag_slug: slugParam\n          };\n        } else {\n          this.bCMSSDKService.navigateToNotFound();\n        }\n      }\n      this.bCMSSDKService.getButterCMS().post.list(filterBy).then(res => {\n        this.posts = res.data.data;\n        this.pageLoading = false;\n        this.setSeo();\n      }).catch(_ => this.bCMSSDKService.navigateToNotFound());\n    }\n  }\n  setSeo() {\n    this.mTitle.setTitle('Sample Blog - ' + this.title);\n    this.meta.removeTag(\"name='description'\");\n    this.meta.removeTag(\"name='image'\");\n    this.meta.addTag({\n      name: 'description',\n      content: 'Sample blog powered by ButterCMS, showing ' + this.title\n    });\n  }\n}\nBlogComponent.ɵfac = function BlogComponent_Factory(t) {\n  return new (t || BlogComponent)(i0.ɵɵdirectiveInject(i1.ButtercmssdkService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Meta), i0.ɵɵdirectiveInject(i3.Title));\n};\nBlogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BlogComponent,\n  selectors: [[\"app-blog\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [3, \"id\", \"ngClass\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-12\"], [1, \"section-title\", \"text-center\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [3, \"ngClass\"], [4, \"ngIf\"], [1, \"col-12\", \"col-lg-4\"], [3, \"searchChange\"], [3, \"categories\", \"categoryChange\"], [1, \"breadcrumb-nav\"], [\"href\", \"index.html\"], [\"href\", \"\"], [\"href\", \"blog\"], [1, \"col-12\", \"col-lg-8\", \"blog-roll-cards\"], [1, \"row\"], [\"class\", \"col-12 col-lg-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"col-lg-6\"], [1, \"blog-roll-card\"], [1, \"blog-roll-card-meta\"], [1, \"blog-roll-card-header\"], [3, \"href\", \"click\"], [1, \"blog-roll-card-meta-info\"], [\"href\", \"javascript:void(0)\"], [\"alt\", \"#\", 3, \"src\"], [1, \"lni\", \"lni-calendar\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"single-post-thumbnail\", 4, \"ngIf\"], [1, \"blog-roll-card-body\", 3, \"innerHTML\"], [1, \"blog-roll-card-footer\", \"text-center\"], [1, \"main-btn\", \"btn-hover\", 3, \"click\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"lni\", \"lni-tag\"], [1, \"single-post-thumbnail\"], [3, \"src\", \"alt\"], [1, \"col-lg-8\", \"col-md-12\", \"col-12\"], [1, \"single-post\"], [1, \"single-post-meta\"], [1, \"single-post-header\"], [1, \"single-post-meta-info\"], [1, \"single-post-body\", 3, \"innerHTML\"], [\"alt\", \"post.featured_image_alt\", 3, \"src\"]],\n  template: function BlogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BlogComponent_ng_container_0_Template, 20, 18, \"ng-container\", 0);\n      i0.ɵɵtemplate(1, BlogComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.posts || ctx.post)(\"ngIfElse\", _r1);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","undefined","BLOG_TYPE","BlogComponent","constructor","bCMSSDKService","route","router","meta","mTitle","ALL","ngOnInit","getButterCMS","category","list","then","res","categories","data","catch","_","navigateToNotFound","getPosts","snapshot","params","type","slug","queryParams","q","navigationChange","searchParam","navigate","typeParam","slugParam","pageLoading","title","filterBy","blogType","SEARCH","brTitle","post","search","posts","setSeo","retrieve","POST","setTitle","seo_title","removeTag","addTag","name","content","meta_description","featured_image","CATEGORY","category_slug","TAG","tag","tag_slug","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\D_Drive\\projects\\hr_product\\codes\\customer-site\\src\\app\\pages\\blog\\components\\blog\\blog.component.html","C:\\D_Drive\\projects\\hr_product\\codes\\customer-site\\src\\app\\pages\\blog\\components\\blog\\blog.component.ts"],"sourcesContent":["<ng-container *ngIf=\"(posts || post); else loading\">\n  <section [id]=\"(blogType === 'post') ? 'blog-header' : 'blog-roll'\"\n           [ngClass]=\"{'blog-roll-nav': blogType !== 'post','single-post-nav': blogType === 'post'}\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-12\">\n          <div class=\"section-title text-center\">\n            <!-- Breadcrumb navigation -->\n            <ng-container [ngSwitch]=\"blogType\">\n              <ng-container *ngSwitchCase=\"'all'\">\n                <h2>All Blog Posts</h2>\n                <ul class=\"breadcrumb-nav\">\n                  <li><a href=\"index.html\">Home</a></li>\n                  <li>All blog posts</li>\n                </ul>\n              </ng-container>\n              <ng-container *ngSwitchCase=\"'category'\">\n                <h2>Blog Posts by Category</h2>\n                <ul class=\"breadcrumb-nav\">\n                  <li><a href=\"\">Home</a></li>\n                  <li><a href=\"blog\">Blog</a></li>\n                  <li>Category: {{brTitle}}</li>\n                </ul>\n              </ng-container>\n              <ng-container *ngSwitchCase=\"'tag'\">\n                <h2>Blog Posts by Tag</h2>\n                <ul class=\"breadcrumb-nav\">\n                  <li><a href=\"\">Home</a></li>\n                  <li><a href=\"blog\">Blog</a></li>\n                  <li>Tag: {{brTitle}}</li>\n                </ul>\n              </ng-container>\n              <ng-container *ngSwitchCase=\"'search'\">\n                <h2>Search Results</h2>\n                <ul class=\"breadcrumb-nav\">\n                  <li><a href=\"\">Home</a></li>\n                  <li><a href=\"blog\">Blog</a></li>\n                  <li>Search: {{brTitle}}</li>\n                </ul>\n              </ng-container>\n              <ng-container *ngSwitchCase=\"'post'\">\n                <h2>{{post.title}}</h2>\n                <ul class=\"breadcrumb-nav\">\n                  <li><a href=\"\">Home</a></li>\n                  <li><a href=\"blog\">Blog</a></li>\n                  <li>{{post.title}}</li>\n                </ul>\n              </ng-container>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section [ngClass]=\"{'blog-posts': blogType !== 'post','blog-post': blogType === 'post'}\">\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <!--Blog posts-->\n        <ng-container *ngIf=\"blogType !== 'post'\">\n          <div class=\"col-12 col-lg-8 blog-roll-cards\">\n            <div class=\"row\"><!--nested row for blogroll-->\n              <p *ngIf=\"posts.length <= 0\">\n                No blog posts found matching this query.\n              </p>\n              <ng-container *ngIf=\"posts.length > 0\">\n                <div class=\"col-12 col-lg-6\" *ngFor=\"let post of posts\">\n                  <div class=\"blog-roll-card\">\n                    <div class=\"blog-roll-card-meta\">\n                      <h2 class=\"blog-roll-card-header\">\n                        <a [href]=\"'/blog/' + post.slug\" (click)=\"navigationChange(post.slug, undefined, undefined)\">\n                          {{post.title}}\n                        </a>\n                      </h2>\n                      <ul class=\"blog-roll-card-meta-info\">\n                        <li>\n                          <a href=\"javascript:void(0)\"><img\n                            [src]=\"post.author.profile_image || '../../../../assets/images/placeholder.png'\" alt=\"#\">\n                            {{post.author.first_name}} {{post.author.last_name}}\n                          </a>\n                        </li>\n                        <li>\n                          <a href=\"javascript:void(0)\">\n                            <i class=\"lni lni-calendar\"></i>\n                            {{post.published | date: \"MM. dd. YYYY hh:mm:ss\"}}\n                          </a>\n                        </li>\n                        <li *ngFor=\"let tag of post.tags\">\n                          <a style=\"cursor: pointer\" (click)=\"navigationChange('tag', tag.slug, undefined)\"><i\n                            class=\"lni lni-tag\"></i>{{tag.name}}</a>\n                        </li>\n                      </ul>\n                    </div>\n                    <div class=\"single-post-thumbnail\" *ngIf=\"post.featured_image\">\n                      <img [src]=\"post.featured_image\" [alt]=\"post.featured_image_alt\">\n                    </div>\n                    <div class=\"blog-roll-card-body\" [innerHTML]=\"post.summary\">\n                    </div>\n                    <div class=\"blog-roll-card-footer text-center\">\n                      <a (click)=\"navigationChange(post.slug, undefined, undefined)\" class=\"main-btn btn-hover\">Read\n                        More</a>\n                    </div>\n                  </div>\n                </div>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <!--Single blog post-->\n        <ng-container *ngIf=\"blogType === 'post'\">\n          <div class=\"col-lg-8 col-md-12 col-12\">\n            <div class=\"single-post\">\n              <div class=\"single-post-meta\">\n                <h2 class=\"single-post-header\">{{post.title}}</h2>\n                <ul class=\"single-post-meta-info\">\n                  <li>\n                    <a href=\"javascript:void(0)\"><img [src]=\"post.author.profile_image || '../../../../assets/images/placeholder.png'\" alt=\"#\">\n                      {{post.author.first_name}} {{post.author.last_name}}\n                    </a>\n                  </li>\n                  <li>\n                    <a href=\"javascript:void(0)\"><i class=\"lni lni-calendar\"></i>{{post.published | date: \"MM. dd. YYYY hh:mm:ss\"}}\n                    </a>\n                  </li>\n                  <li *ngFor=\"let tag of post.tags\">\n                    <a style=\"cursor: pointer\" (click)=\"navigationChange('tag', tag.slug, undefined)\"><i\n                      class=\"lni lni-tag\"></i>{{tag.name}}</a>\n                  </li>\n                </ul>\n              </div>\n              <div class=\"single-post-thumbnail\" *ngIf=\"post.featured_image\">\n                <img [src]=\"post.featured_image\" alt=\"post.featured_image_alt\">\n              </div>\n              <div class=\"single-post-body\" [innerHTML]=\"post.body\">\n              </div>\n            </div>\n          </div>\n        </ng-container>\n        <!-- Widgets Column -->\n        <aside class=\"col-12 col-lg-4\">\n          <app-search\n            (searchChange)=\"navigationChange(undefined, undefined, $event)\"\n          >\n          </app-search>\n          <app-categories\n            [categories]=\"categories\"\n            (categoryChange)=\"navigationChange('category', $event, undefined)\"\n          >\n          </app-categories>\n        </aside>\n      </div>\n    </div>\n  </section>\n</ng-container>\n<ng-template #loading>\n  <app-loader></app-loader>\n</ng-template>\n","import {Component, OnInit} from '@angular/core';\nimport {ButtercmssdkService} from '../../../../services/buttercmssdk.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Meta, Title} from \"@angular/platform-browser\";\n\nenum BLOG_TYPE {\n  ALL = 'all',\n  CATEGORY = 'category',\n  TAG = 'tag',\n  SEARCH = 'search',\n  POST = 'post'\n}\n\n@Component({\n  selector: 'app-blog',\n  templateUrl: './blog.component.html'\n})\nexport class BlogComponent implements OnInit {\n  public posts;\n  public categories;\n  public title;\n  public brTitle;\n  public post;\n  public pageLoading = false;\n\n  public blogType = BLOG_TYPE.ALL;\n\n  constructor(private bCMSSDKService: ButtercmssdkService,\n              private route: ActivatedRoute,\n              private router: Router,\n              private meta: Meta,\n              public mTitle: Title) {\n  }\n\n  ngOnInit(): void {\n    this.bCMSSDKService.getButterCMS().category.list()\n      .then(res => this.categories = res.data.data)\n      .catch(_ => this.bCMSSDKService.navigateToNotFound());\n\n    this.getPosts(this.route.snapshot.params.type, this.route.snapshot.params.slug, this.route.snapshot.queryParams.q);\n  }\n\n  navigationChange(type, slug, searchParam) {\n    if (searchParam) {\n      this.router.navigate(['blog', 'search'], {queryParams: {q: searchParam}});\n    } else if (!slug) {\n      this.router.navigate(['blog', type]);\n    } else {\n      this.router.navigate(['blog', type, slug]);\n    }\n    this.getPosts(type, slug, searchParam);\n  }\n\n  getPosts(typeParam, slugParam, searchParam) {\n    this.pageLoading = true;\n    this.title = 'All posts';\n\n    let filterBy = {};\n    if (searchParam) {\n      this.blogType = BLOG_TYPE.SEARCH;\n      this.brTitle = searchParam;\n      this.title = 'search results for query: ' + searchParam;\n      this.bCMSSDKService.getButterCMS().post.search(searchParam)\n        .then(res => {\n          this.posts = res.data.data;\n          this.pageLoading = false;\n          this.setSeo();\n        })\n        .catch(_ => this.bCMSSDKService.navigateToNotFound());\n    } else if (typeParam && !slugParam) {\n      this.bCMSSDKService.getButterCMS().post.retrieve(typeParam)\n        .then(res => {\n          this.blogType = BLOG_TYPE.POST;\n          this.post = res.data.data;\n          this.pageLoading = false;\n          this.mTitle.setTitle(this.post.seo_title);\n          this.meta.removeTag(\"name='description'\");\n          this.meta.addTag({name: 'description', content: this.post.meta_description});\n          this.meta.removeTag(\"name='image'\");\n          if (this.post.featured_image) {\n            this.meta.addTag({name: 'image', content: this.post.featured_image});\n          }\n        })\n        .catch(_ => this.bCMSSDKService.navigateToNotFound());\n    } else {\n      if (typeParam && slugParam) {\n        if (typeParam === BLOG_TYPE.CATEGORY) {\n          this.blogType = BLOG_TYPE.CATEGORY;\n          this.bCMSSDKService.getButterCMS().category.retrieve(slugParam)\n            .then(res => {\n              this.title = 'category: ' + res.data.data.name;\n              this.brTitle = res.data.data.name;\n              this.pageLoading = false;\n              this.setSeo();\n            });\n          filterBy = {category_slug: slugParam};\n        } else if (typeParam === BLOG_TYPE.TAG) {\n          this.blogType = BLOG_TYPE.TAG;\n          this.bCMSSDKService.getButterCMS().tag.retrieve(slugParam)\n            .then(res => {\n              this.title = 'tag: ' + res.data.data.name;\n              this.brTitle = res.data.data.name;\n              this.pageLoading = false;\n              this.setSeo();\n            });\n          filterBy = {tag_slug: slugParam};\n        } else {\n          this.bCMSSDKService.navigateToNotFound();\n        }\n      }\n\n      this.bCMSSDKService.getButterCMS().post.list(filterBy)\n        .then(res => {\n          this.posts = res.data.data;\n          this.pageLoading = false;\n          this.setSeo();\n        })\n        .catch(_ => this.bCMSSDKService.navigateToNotFound());\n    }\n  }\n\n  setSeo() {\n    this.mTitle.setTitle('Sample Blog - ' + this.title);\n    this.meta.removeTag(\"name='description'\");\n    this.meta.removeTag(\"name='image'\");\n    this.meta.addTag({name: 'description', content: 'Sample blog powered by ButterCMS, showing ' + this.title});\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
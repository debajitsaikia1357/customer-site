{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/buttercmssdk.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/platform-browser\";\nfunction MainPageComponent_ng_container_0_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-hero\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bodyItem_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fields\", bodyItem_r5.fields);\n  }\n}\nfunction MainPageComponent_ng_container_0_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-two-column-with-image\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bodyItem_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fields\", bodyItem_r5.fields);\n  }\n}\nfunction MainPageComponent_ng_container_0_ng_container_1_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-features\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bodyItem_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fields\", bodyItem_r5.fields);\n  }\n}\nfunction MainPageComponent_ng_container_0_ng_container_1_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-testimonials\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bodyItem_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"fields\", bodyItem_r5.fields);\n  }\n}\nfunction MainPageComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0)(1, 4);\n    i0.ɵɵtemplate(2, MainPageComponent_ng_container_0_ng_container_1_ng_container_2_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(3, MainPageComponent_ng_container_0_ng_container_1_ng_container_3_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(4, MainPageComponent_ng_container_0_ng_container_1_ng_container_4_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(5, MainPageComponent_ng_container_0_ng_container_1_ng_container_5_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd()();\n  }\n  if (rf & 2) {\n    const bodyItem_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", bodyItem_r5.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"hero\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"two_column_with_image\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"features\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"testimonials\");\n  }\n}\nfunction MainPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MainPageComponent_ng_container_0_ng_container_1_Template, 6, 5, \"ng-container\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pageData.body);\n  }\n}\nfunction MainPageComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-blog-section\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"posts\", ctx_r1.posts);\n  }\n}\nfunction MainPageComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loader\");\n  }\n}\nexport class MainPageComponent {\n  constructor(bCMSSDKService, route, meta, title) {\n    this.bCMSSDKService = bCMSSDKService;\n    this.route = route;\n    this.meta = meta;\n    this.title = title;\n    this.pageData = null;\n  }\n  ngOnInit() {\n    const slug = this.route.snapshot.params.slug;\n    this.bCMSSDKService.getButterCMS().page.retrieve('landing-page', slug?.length ? slug : 'landing-page-with-components').then(res => {\n      this.pageData = res.data.data.fields;\n      this.title.setTitle(res.data.data.fields.seo.title);\n      this.meta.addTag({\n        name: 'description',\n        content: res.data.data.fields.seo.description.concat(' ')\n      });\n      setTimeout(() => {\n        const f = this.route.snapshot.fragment;\n        const element = document.querySelector('#' + f);\n        if (element) {\n          element.scrollIntoView();\n        }\n      }, 500);\n    }).catch(_ => this.bCMSSDKService.navigateToNotFound());\n    this.bCMSSDKService.getButterCMS().post.list({\n      page: 1,\n      page_size: 2\n    }).then(res => this.posts = res).catch(_ => this.bCMSSDKService.navigateToNotFound());\n  }\n}\nMainPageComponent.ɵfac = function MainPageComponent_Factory(t) {\n  return new (t || MainPageComponent)(i0.ɵɵdirectiveInject(i1.ButtercmssdkService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Meta), i0.ɵɵdirectiveInject(i3.Title));\n};\nMainPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainPageComponent,\n  selectors: [[\"app-main-page\"]],\n  decls: 4,\n  vars: 3,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [4, \"ngIf\"], [\"loading\", \"\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [3, \"fields\"], [3, \"posts\"]],\n  template: function MainPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, MainPageComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵtemplate(1, MainPageComponent_ng_container_1_Template, 2, 1, \"ng-container\", 1);\n      i0.ɵɵtemplate(2, MainPageComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.pageData)(\"ngIfElse\", _r2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.posts);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["i0","MainPageComponent","constructor","bCMSSDKService","route","meta","title","ngOnInit","slug","snapshot","params","getButterCMS","page","retrieve","length","then","res","pageData","data","fields","setTitle","seo","addTag","name","content","description","concat","setTimeout","f","fragment","element","document","querySelector","scrollIntoView","catch","_","navigateToNotFound","post","list","page_size","posts","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\D_Drive\\projects\\hr_product\\codes\\customer-site\\src\\app\\pages\\main-page\\components\\main-page\\main-page.component.html","C:\\D_Drive\\projects\\hr_product\\codes\\customer-site\\src\\app\\pages\\main-page\\components\\main-page\\main-page.component.ts"],"sourcesContent":["<ng-container *ngIf=\"pageData; else loading\">\n  <ng-container *ngFor=\"let bodyItem of pageData.body\">\n    <ng-container [ngSwitch]=\"bodyItem.type\">\n      <ng-container *ngSwitchCase=\"'hero'\">\n        <app-hero\n          [fields]=\"bodyItem.fields\"\n        >\n        </app-hero>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"'two_column_with_image'\">\n        <app-two-column-with-image\n          [fields]=\"bodyItem.fields\"\n        >\n        </app-two-column-with-image>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"'features'\">\n        <app-features\n          [fields]=\"bodyItem.fields\"\n        >\n        </app-features>\n      </ng-container>\n      <ng-container *ngSwitchCase=\"'testimonials'\">\n        <app-testimonials\n          [fields]=\"bodyItem.fields\"\n        >\n        </app-testimonials>\n      </ng-container>\n    </ng-container>\n  </ng-container>\n</ng-container>\n<ng-container *ngIf=\"posts\">\n  <app-blog-section\n    [posts]=\"posts\"\n  >\n  </app-blog-section>\n</ng-container>\n<ng-template #loading>\n  <app-loader></app-loader>\n</ng-template>\n","import {Component, OnInit} from '@angular/core';\nimport {ButtercmssdkService} from '../../../../services/buttercmssdk.service';\nimport {ActivatedRoute} from '@angular/router';\nimport {Meta, Title} from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-main-page',\n  templateUrl: './main-page.component.html'\n})\nexport class MainPageComponent implements OnInit {\n\n  public pageData = null;\n  public posts;\n\n  constructor(private bCMSSDKService: ButtercmssdkService,\n              private route: ActivatedRoute,\n              public meta: Meta,\n              public title: Title) {\n  }\n\n  ngOnInit(): void {\n    const slug = this.route.snapshot.params.slug;\n    this.bCMSSDKService.getButterCMS().page.retrieve('landing-page', slug?.length ? slug : 'landing-page-with-components')\n      .then(res => {\n        this.pageData = res.data.data.fields;\n\n        this.title.setTitle(res.data.data.fields.seo.title);\n        this.meta.addTag({name: 'description', content: res.data.data.fields.seo.description.concat(' ')});\n\n        setTimeout(() => {\n          const f = this.route.snapshot.fragment;\n          const element = document.querySelector('#' + f);\n          if (element) {\n            element.scrollIntoView();\n          }\n        }, 500);\n      })\n      .catch(_ => this.bCMSSDKService.navigateToNotFound());\n\n    this.bCMSSDKService.getButterCMS().post.list({page: 1, page_size: 2})\n      .then(res => this.posts = res)\n      .catch(_ => this.bCMSSDKService.navigateToNotFound());\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}